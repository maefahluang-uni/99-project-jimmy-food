<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    <!-- Add your stylesheets, scripts, or other head elements here -->
</head>
<body>
    <h1>User Profile</h1>

    <script>
        // ดึงข้อมูลสินค้าจาก localStorage และแสดงที่นี่
        var userInfo = localStorage.getItem('userInfo') || '[]';
        userInfo = JSON.parse(userInfo);
             var main = document.querySelector('main');
     
             userInfo.forEach((info, index) => {
                 var userInfo2 = document.createElement('div');
                 userInfo2.classList.add('cart-item');
                 userInfo2.dataset.index = index; // เก็บ index ของรายการสินค้า
                 userInfo2.innerHTML = `
                     <!-- แสดงข้อมูลสินค้า -->
                     <img src="${info.name}" alt="${info.address}">
                     <p>${info.phoneNumber}</p>
                     <button class="delete-button" onclick="removeItem(${index})">X</button>
                 `;
                 main.appendChild(userInfo2);
             });
     
             function removeItem(index) {
                 // ดึงข้อมูลจาก localStorage
                 var userInfo = localStorage.getItem('userInfo') || '[]';
                 userInfo = JSON.parse(userInfo);
     
                 // ลบรายการที่ถูกคลิก
                 userInfo.splice(index, 1);
     
                 // อัปเดต localStorage
                 localStorage.setItem('userInfo', JSON.stringify(userInfo));
     
                 // รีโหลดหน้า
                 location.reload();
             }
     </script>


    <div>
        <p>Name: <span th:text="${name}"></span></p>
        <p>Address: <span th:text="${address}"></span></p>
        <p>Phone number: <span th:text="${phoneNumber}"></span></p>
        <p>Points: <span th:text="${points}"></span></p>
    </div>

    <!-- Add additional elements or sections as needed -->

    <a th:href="@{/updateProfile}" class="btn btn-primary">Edit Profile</a>

    <!-- Add your footer or other common elements here -->

</body>
</html>